# This file describes a Fastly Compute package. To learn more visit:
# https://www.fastly.com/documentation/reference/compute/fastly-toml

authors = ["jason@stackpop.com"]
cloned_from = "https://github.com/fastly/compute-starter-kit-rust-default"
description = "EdgePubs - Trusted Server"
language = "rust"
manifest_version = 3
name = "trusted-server-fastly"
service_id = "dysUw6h73VzeomD61eal85"

[scripts]
build = """
    cargo build --bin trusted-server-fastly --release --target wasm32-wasip1 --color always
"""

# Production Backends for Partner Asset Serving (like auburndao.com)
[backends]

[local_server]
    address = "127.0.0.1:7676"
    tls_cert_path = "./localhost+2.pem"
    tls_key_path = "./localhost+2-key.pem"
    
    [local_server.backends]

    [local_server.kv_stores]
        [[local_server.kv_stores.counter_store]]
            key = "placeholder"
            data = "placeholder"

        [[local_server.kv_stores.opid_store]]
            key = "placeholder"
            data = "placeholder"
