[[handlers]]
path = "^/secure"
username = "user"
password = "pass"

[publisher]
domain = "test-publisher.com"
cookie_domain = ".test-publisher.com"
origin_url = "https://origin.test-publisher.com"
proxy_secret = "change-me-proxy-secret"

[publisher.nextjs]
enabled = false
rewrite_attributes = ["href", "link", "url"]

[prebid]
server_url = "http://68.183.113.79:8000"
timeout_ms = 1000
bidders = ["kargo", "rubicon", "appnexus", "openx"]
auto_configure = false
debug = false

[synthetic]
counter_store = "counter_store"
opid_store = "opid_store"
secret_key = "trusted-server"
# Possible values
#   - "client_ip"
#   - "user_agent"
#   - "first_party_id"
#   - "auth_user_id"
#   - "publisher_domain"
#   - "accept_language"
template = "{{ client_ip }}:{{ user_agent }}:{{ first_party_id }}:{{ auth_user_id }}:{{ publisher_domain }}:{{ accept_language }}"

# Custom headers to be included in every response
[response_headers]
X-Custom-Header = "custom header value"

# Request Signing Configuration
# Enable signing of OpenRTB requests and other API calls
[request_signing]
enabled = false  # Set to true to enable request signing
config_store_id = "<fastly-config-store-id>" # set config/secret store ids for key rotation
secret_store_id = "<fastly-secret-store-id>"

[integrations.testlight]
endpoint = "https://testlight.example/openrtb2/auction"
timeout_ms = 1200
rewrite_scripts = true

# Rewrite configuration for creative HTML/CSS processing
# [rewrite]
# Domains to exclude from first-party rewriting (supports wildcards like "*.example.com")
# URLs from these domains will be left as-is and not proxied
# exclude_domains = [
#     "*.edgecompute.app",
# ]
